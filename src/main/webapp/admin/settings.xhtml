<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" template="/WEB-INF/templates/default.xhtml">

	<ui:define name="title">Project Settings</ui:define>

	<ui:define name="content">
		

		<p:layout fullPage="true">

			<p:layoutUnit position="north" header="#{msg.appFullTitle}" />

			<p:layoutUnit position="center">

				<p:ajaxStatus onstart="PF('statusDialog').show();" onsuccess="PF('statusDialog').hide();" />
				<p:dialog modal="false" widgetVar="statusDialog" resizable="false" showHeader="false" draggable="false" closable="false">
					<p:graphicImage value="/images/ajax-loading.gif" width="25" />
				</p:dialog>

				<h:form id="form">

					<p:growl id="messages" life="#{appManager.growlLife}" />

					<p:panel header="Assign Project Manager Role">
						<h:panelGrid columns="2" columnClasses="left-100,left" style="margin:10px">
							<p:outputLabel for="userSelect" value="User:" />
							<p:selectOneMenu id="userSelect" value="#{adminAction.projectManager}" style="width:200px" converter="#{authUserConverter}" effect="fade" title="The project member user" required="true">
								<f:selectItem itemLabel="Select User" itemValue="" />
								<f:selectItems value="#{availableUsers}" var="user" itemLabel="#{user.name}" itemValue="#{user}" />
								<p:ajax event="change" listener="#{adminAction.onProjectManagerChange}" update=":form:messages"/>
							</p:selectOneMenu>
						</h:panelGrid>

						<p:spacer height="100px" />
					</p:panel>

					<div style="text-align: right; margin: 10px">
						<p:commandButton value="Close" action="#{adminAction.close}" immediate="true" title="Close view" />
					</div>
				</h:form>

			</p:layoutUnit>
		</p:layout>

	</ui:define>
</ui:composition>