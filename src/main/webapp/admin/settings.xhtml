<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" template="/WEB-INF/template.xhtml">

	<ui:define name="title">Project Settings</ui:define>

	<ui:define name="content">

		<p:ajaxStatus onstart="PF('statusDialog').show();" onsuccess="PF('statusDialog').hide();" />
		<p:dialog modal="false" widgetVar="statusDialog" resizable="false" showHeader="false" draggable="false" closable="false">
			<p:graphicImage value="/images/ajax-loading.gif" width="25" />
		</p:dialog>

		<h:form id="form">
			<div class="ui-g">
				<div class="ui-g-12">
					<div class="card">

						<p:growl id="messages" life="#{appManager.growlLife}" />

						<p:panel header="Assign Project Manager Role">
							<p:panelGrid columns="2" layout="grid" columnClasses="ui-g-3,ui-g-9" styleClass="ui-panelgrid-blank form-group">
								<p:outputLabel for="userSelect" value="User:" />
								<p:selectOneMenu id="userSelect" value="#{adminAction.projectManager}" style="width:200px" converter="#{authUserConverter}" effect="fade" title="The project member user" required="true">
									<f:selectItem itemLabel="Select User" itemValue="" />
									<f:selectItems value="#{availableUsers}" var="user" itemLabel="#{user.name}" itemValue="#{user}" />
									<p:ajax event="change" listener="#{adminAction.onProjectManagerChange}" update=":form:messages" />
								</p:selectOneMenu>
							</p:panelGrid>

							<p:spacer height="100px" />
						</p:panel>

						<div style="text-align: right; margin: 10px">
							<p:commandButton value="Close" action="#{adminAction.close}" immediate="true" icon="ui-icon-cancel" title="Close view" />
						</div>

					</div>
				</div>
			</div>
		</h:form>

	</ui:define>
</ui:composition>